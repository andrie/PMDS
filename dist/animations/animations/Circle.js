import{o as h,L as M,x as C,X as u,B as S,i as P,s as x,G as v,U as B}from"./makeScene2D.js";import{A as I}from"./ArcSegment.js";function w(i,t,e,s,r=!1){const o={arcLength:0,minSin:1,segments:[]};if(e<t){const d=Math.floor((t-e)/(Math.PI*2))+1;e+=Math.PI*2*d}else if(e>t+Math.PI*2){const d=Math.floor((e-t)/(Math.PI*2));e-=Math.PI*2*d}const a=(t+e)/2,n=i.mul(h.fromRadians(t)),f=i.mul(h.fromRadians(e)),p=i.mul(h.fromRadians(a)).scale(r?-1:1);return s&&m(o,new M(h.zero,n)),g(o,i,n,p,t,a,r),g(o,i,p,f,a,e,r),s&&m(o,new M(f,h.zero)),o}function m(i,t){i.segments.push(t),i.arcLength+=t.arcLength}function g(i,t,e,s,r,o,a){const n=Math.abs(r-o)<=180?1:0,f=r>o?0:1,p=a?0:1;m(i,new I(e,t,0,0,n^p^f,s))}var l=globalThis&&globalThis.__decorate||function(i,t,e,s){var r=arguments.length,o=r<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,e):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,s);else for(var n=i.length-1;n>=0;n--)(a=i[n])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o};let c=class extends C{constructor(t){super(t)}profile(){return w(this.size().scale(.5),this.startAngle()*u,this.endAngle()*u,this.closed(),this.counterclockwise())}desiredSize(){return{x:this.width.context.getter(),y:this.height.context.getter()}}offsetComputedLayout(t){return t}childrenBBox(){return S.fromSizeCentered(this.computedSize())}getPath(){return this.requiresProfile()?this.curveDrawingInfo().path:this.createPath()}getRipplePath(){return this.createPath(this.rippleSize())}getCacheBBox(){return super.getCacheBBox().expand(this.rippleSize())}createPath(t=0){const e=new Path2D,s=this.startAngle()*u;let r=this.endAngle()*u;const o=this.size().scale(.5).add(t),a=this.closed();if(r>s+Math.PI*2){const n=Math.floor((r-s)/(Math.PI*2));r-=Math.PI*2*n}return a&&e.moveTo(0,0),e.ellipse(0,0,o.x,o.y,0,s,r,this.counterclockwise()),a&&e.closePath(),e}};l([P(0),x()],c.prototype,"startAngle",void 0);l([P(360),x()],c.prototype,"endAngle",void 0);l([P(!1),x()],c.prototype,"counterclockwise",void 0);l([v()],c.prototype,"profile",null);c=l([B("Circle")],c);export{c as C};
